{"ast":null,"code":"import _regeneratorRuntime from \"/home/triomphant/C-DEV-121-COT-1-1-postit-triomphant.suanon/Postit/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/triomphant/C-DEV-121-COT-1-1-postit-triomphant.suanon/Postit/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.array.reverse.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.filter.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.array.find-index.js\";\nimport \"core-js/modules/es.array.splice.js\";\nimport { createStore } from 'vuex';\nimport axios from \"axios\";\nexport default createStore({\n  state: {\n    notes: []\n  },\n  getters: {\n    allNotes: function allNotes(state) {\n      return state.notes;\n    }\n  },\n  actions: {\n    getNotes: function getNotes(_ref) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var commit, res;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              commit = _ref.commit;\n              _context.next = 3;\n              return axios.get(\"https://post-it-7m1i.onrender.com/notes\");\n            case 3:\n              res = _context.sent;\n              commit('setNotes', res.data.notes.reverse());\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }))();\n    },\n    submitNote: function submitNote(_ref2, loadnote) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var commit, dispatch, res;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              commit = _ref2.commit, dispatch = _ref2.dispatch;\n              _context2.next = 3;\n              return axios.post(\"https://post-it-7m1i.onrender.com/notes\", loadnote);\n            case 3:\n              res = _context2.sent;\n              commit('newPost', res.data);\n              dispatch('getNotes'); // dispatch the getNotes action to update the notes list after submitting a new note\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }))();\n    },\n    deleteNote: function deleteNote(_ref3, id) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var commit, dispatch;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              commit = _ref3.commit, dispatch = _ref3.dispatch;\n              if (!confirm(\"Are you sure you want to delete this note?\")) {\n                _context3.next = 5;\n                break;\n              }\n              _context3.next = 4;\n              return axios[\"delete\"](\"https://post-it-7m1i.onrender.com/notes/\".concat(id));\n            case 4:\n              commit('removeNote', id);\n            case 5:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }))();\n    },\n    updateNote: function updateNote(_ref4, updNote) {\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4() {\n        var commit, res;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              commit = _ref4.commit;\n              _context4.next = 3;\n              return axios.put(\"https://post-it-7m1i.onrender.com/notes/\".concat(updNote.id), {\n                title: updNote.title,\n                content: updNote.content\n              });\n            case 3:\n              res = _context4.sent;\n              commit('updNote', updNote);\n            case 5:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }))();\n    }\n  },\n  mutations: {\n    setNotes: function setNotes(state, notes) {\n      return state.notes = notes;\n    },\n    newPost: function newPost(state, note) {\n      return state.notes.push(note);\n    },\n    removeNote: function removeNote(state, id) {\n      return state.notes = state.notes.filter(function (note) {\n        return note.id != id;\n      });\n    },\n    updateNote: function updateNote(state, updNote) {\n      var index = state.notes.findIndex(function (note) {\n        return note.id === updNote.id;\n      });\n      if (index !== -1) {\n        state.notes.splice(index, 1, updNote);\n      }\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["createStore","axios","state","notes","getters","allNotes","actions","getNotes","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commit","res","wrap","_callee$","_context","prev","next","get","sent","data","reverse","stop","submitNote","_ref2","loadnote","_callee2","dispatch","_callee2$","_context2","post","deleteNote","_ref3","id","_callee3","_callee3$","_context3","confirm","concat","updateNote","_ref4","updNote","_callee4","_callee4$","_context4","put","title","content","mutations","setNotes","newPost","note","push","removeNote","filter","index","findIndex","splice","modules"],"sources":["/home/triomphant/C-DEV-121-COT-1-1-postit-triomphant.suanon/Postit/src/store/index.js"],"sourcesContent":["import { createStore } from 'vuex'\nimport axios from \"axios\"\n\nexport default createStore({\n  state: {\n    notes: [],\n  },\n  getters: {\n    allNotes: (state) => state.notes,\n  },\n  actions: {\n    async getNotes({ commit }) {\n      const res = await axios.get(\"https://post-it-7m1i.onrender.com/notes\");\n      commit('setNotes', res.data.notes.reverse())\n    },\n    async submitNote({ commit, dispatch }, loadnote) {\n      const res = await axios.post(\"https://post-it-7m1i.onrender.com/notes\", loadnote)\n      commit('newPost', res.data);\n      dispatch('getNotes'); // dispatch the getNotes action to update the notes list after submitting a new note\n    },\n    async deleteNote({ commit, dispatch }, id) {\n      if (confirm(\"Are you sure you want to delete this note?\")) {\n        await axios.delete(`https://post-it-7m1i.onrender.com/notes/${id}`);\n        commit('removeNote', id);\n      }\n    },\n    async updateNote({ commit }, updNote) {\n      const res = await axios.put(`https://post-it-7m1i.onrender.com/notes/${updNote.id}`,\n        { title: updNote.title, content: updNote.content} );\n      commit('updNote', updNote)\n    }\n  },\n  mutations: {\n    setNotes: (state, notes) => state.notes = notes,\n    newPost: (state, note) => state.notes.push(note),\n    removeNote: (state, id) => state.notes = state.notes.filter(note => note.id != id),\n    updateNote: (state, updNote) => {\n      const index = state.notes.findIndex(note => note.id === updNote.id);\n      if (index !== -1) {\n        state.notes.splice(index, 1, updNote);\n      }\n    },\n  },\n  modules: {\n  }\n})\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}